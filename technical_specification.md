Urban Game Theory Technical Design

See Urban Game Theory Google Doc for an elaboration of the general idea.

- Use Scaffold-Eth(2), the framework for building decentralized apps on hackathons
- The landing screen is divided into four quarters/panels. A screen with an Openstreetmaps map window is in the upper left quarter of the screen. The initial coordinates are https://www.openstreetmap.org/#map=17/45.760772/15.962169 . You can pan the map, zoom in and out, using the map provider API.
- There is an Analyze button in the upper right quarter of the screen. The parcels for roads are taken from Openstreetmap. The parcels for land plots owned by individuals are for now generated procedurally from Openstreetmap data. Algorithm details:
  - Start from the building objects on the map. Each object's is a house. Parcels have the house as their center, and parcel borders are always halfway between two houses, or halfway between a house and a road. All land should be part of a parcel
  - The parcels are minted as ERC721 NFTs, owned by different addresses. For purposes of the demo, they will all be assigned as owners to addresses generated by one HD wallet.
- There is a Create Proposal button. When you click it you are allowed to select one or multiple land parcels by clicking on them on the map screen. When you click on one the color changes and it is also added to the list. You can also choose from a dropdown whether to make the proposal conditional or not. Once you are happy with the result you click Mint Proposal. This requires you to sign with your wallet and mints a Proposal NFT (also an ERC721). As the graphics, the NFT has the picture you created by highlighting the different parcels you chose. The proposal NFT is “linked” or “pointed” to each parcel NFT (investigate exactly how)
- You can log in with your wallet using a button in the upper part of the upper right quarter of the screen. When you do that we search the database (or make a blockchain call) to get all the land NFTs your address owns. If some are found, a list of your land parcels is shown in the lower left quarter of the screen. You can click on either of them. When you do that several things happen:
  - The map is centered on your parcel
  - Additional data is displayed about the NFT, in lower right part of the screen, such as:
  - Existing simple offers (these are offers of crypto like ETH)
  - Existing Proposals
  - Any textual description
    Proposals are also NFTs, so clicking on an offer puts that NFT in the lower left portion of the screen and focuses on it, giving its info in the lower right part of the screen
    Next to each offer there is an Accept button you can click
